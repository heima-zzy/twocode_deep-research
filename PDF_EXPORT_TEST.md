# PDF导出功能测试指南

## 问题描述
之前的PDF导出功能存在问题：导出的PDF只包含左侧侧边栏，右侧正文内容缺失。

## 修复内容

本次修复主要针对以下问题：

### 1. 隐藏不必要的元素
- 侧边栏和导航栏
- 按钮和交互元素（包括 Lucide 图标和 SVG）
- 浮动菜单和工具栏（MagicDown 的浮动工具栏）
- 对话框和提示框

### 2. 优化主内容区域
- 移除侧边栏的边距影响
- 确保内容占满整个页面宽度
- 移除不必要的边框和阴影
- 重置 body 的 margin 和 padding

### 3. MagicDown 组件优化
- 专门针对 MagicDown 组件的打印样式
- 重置 Prose 样式的最大宽度限制
- 优化标题、段落、列表的间距和颜色

### 4. 调整布局
- 将网格布局转换为块级布局
- 确保所有内容在打印时可见
- 设置 A4 页面大小和合适的边距

### 5. 样式优化
- 设置合适的字体大小和行高
- 确保文本颜色为黑色
- 优化链接、代码块、表格显示
- 改进 PDF 导出函数，添加打印状态管理

## 测试步骤

### 1. 访问研究页面
打开浏览器访问：http://localhost:3001/research

### 2. 创建测试内容
1. 输入一个研究主题
2. 等待系统生成研究报告
3. 确保最终报告区域有内容显示

### 3. 测试PDF导出
1. 点击"下载PDF"按钮
2. 在打印预览中检查：
   - 左侧侧边栏应该被隐藏
   - 右侧设置面板应该被隐藏
   - 主要内容应该占满整个页面宽度
   - 文本应该清晰可读

### 4. 验证导出结果
1. 保存或打印PDF
2. 打开PDF文件
3. 确认包含完整的研究报告内容
4. 确认没有侧边栏或其他UI元素

## 预期结果
- PDF应该只包含研究报告的正文内容
- 布局应该适合A4纸张
- 文本应该清晰可读
- 不应该包含任何UI元素（按钮、侧边栏等）

## 如果仍有问题
如果PDF导出仍然有问题，请检查：
1. 浏览器是否支持CSS打印样式
2. 是否有其他CSS规则覆盖了打印样式
3. 内容是否正确加载在主内容区域

## 技术细节
修改的文件：`src/app/globals.css`
添加的CSS规则：`@media print { ... }`